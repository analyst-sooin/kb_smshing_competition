# kb_smishing_competition

#### 머신러닝과, 딥러닝 그리고 파이썬을 배우면서 캐글에 몇번 참여했었다. 지난 대회들이였지만 캐글 대회에 세 차례 정도 참여 후 데이콘에서 현재 진행하고 있는 대회에 참가해보고 싶었다. 결과 부터 얘기하자면 입상은 하지 못했지만 만족할만한 결과였다. 상위 10%목표에서 6%랭크 했으니 말이다. 위 코드는 제출 코드들이며, 내가 어떻게 점수를 올려 갔는지 보여주는 것들이다. 먼저 간단하게 대회 개요와 룰 등을 살표 본후 설명하겠다.

![competition_plan](https://user-images.githubusercontent.com/59334939/75552392-8e1c8d80-5a79-11ea-93c5-d79909f3f201.png)

###### 주최 : KB금융지주 ,Dacon,KISA 주관: Dacon
* * *

![reward](https://user-images.githubusercontent.com/59334939/75552399-907ee780-5a79-11ea-897e-fea56aa787fd.png)

###### 총 상금 2,000만원의 대회이니 좀 규모가 있고 그 만큼 참가자들도 많았다.
***
![rule](https://user-images.githubusercontent.com/59334939/75552401-9248ab00-5a79-11ea-95eb-28df5e89b893.png)


***

* 첫 번째 *commit*  
1.자연어 처리 대회는 처음이여서 시작에 조금 헤매였다. 먼저 단어들을 숫자로 치환하는 작업을 해주고 딥러닝을 하기 위한 전처리를 해주었다.  
2.문자열 길이를 최대값에 일치 시켜준 뒤, 딥러닝 모델을 시작하였다. 스미싱일 확률을 output하려고 활성화 함수를 sigmoid로 한뒤, 손실함수도 binary_crossentropy를 넣어주었다.(대회가 끝나고 생각한것인데, sigmoid대신 Relu함수를 써주었으면 어땟을까 하는 생각이 들었다.)  
3.자연어 처리에서는 embedding 층이 꼭 들어가 줘야한다.
4.제출을 할수록 점수의 변화를 보기 위해서 첫 번째 제출 파일에서는 점수가 많이 높지않을걸 예상하고 제출 하였는데 의외로 바로 90점대에 들어와서 놀랬다.
(하지만, 진정한 competition은 여기서 시작한다는것을 그때는 몰랐다..)


* 두 번째 *commit*  
1. train set의 문자열들의 길이를 분포표로 찍어보니 100글자 미만의 문자가 80%이상이고 50글자 미만의 문자가 95%이상이였다. 모든 문자열의 분석을 위해 최대 길이(317)를 해주었지만, 효율성을 위해 100글자 이상인 문자들열들은 삭제해줘도 무방할 거라고 생각했다.(대회에서 분석시간도 점수에포함함)  
2. 한국어 특성상 뒷쪽 데이터가 훨씬 중요하다. (이유는 영어와는 다르게 동사가 뒤쪽에 배치되어 있으므로) 그래서 100글자가 넘어가는것에 한하여, 앞쪽 데이터들을 남겨두고 뒤쪽 데이터를 남기게해서 분석을 진행하였다.
3. embedding 층에서 차원의 갯수를 1개에서 25개로 늘려주었다.
4. 차원의 갯수를 늘리면서 시간이 오래걸려 최적의 가중치가 나오면 에포크를 자동으로 정지하고 최적의 가중치를 저장하도록 했다.(earlystopping,modelcheckpoint)
5. 결과적으로는 점수가 소폭 상승했다.


* 세 번쨰 *commit*  
1. 점수를 올릴 방법을 생각해보다, train-set데이터에서 정답 라벨이 smisging인 데이터만 추려서 보았다. 대부분의 데이터가 맨 앞 문장에 '(광고)'라는 키워드가 들어가 있는걸 확인했다. 그러므로, **'(광고)'키워드가 스미싱을 학습하는데 아주 중요한 역할을 하는데 삭제를 해버렸다.**   
2. 그래서 이번엔 뒤쪽 데이터를 날리고(100글자 넘어가는 데이터에 한해서) 딥러닝을 진행 하였다.
3. 앞쪽의 데이터를 살려준것이 train-set이 스미싱을 탐지하는데에 좀더 좋은 학습을 진행했다.
